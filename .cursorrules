# United Trades Ecosystem — Cursor Rules
# Generated by /integrate on 2026-02-19

## Project Identity
- **Project:** United Trades — AI-Powered Multi-Brand Trade Services Ecosystem
- **Companies:** The Prime Electrical | AKF Construction | CleanJet
- **Architecture:** Hub-and-spoke (3 independent Next.js sites → shared AI brain + Supabase DB)
- **Framework:** Next.js 15 (App Router)
- **Language:** TypeScript (strict mode)
- **Package Manager:** npm

## Tech Stack
- **Frontend:** Next.js 15 + React 19 + TypeScript
- **Template:** Tailwind Salient (tailwind-plus-salient/salient-ts/)
- **Styling:** Tailwind CSS v4 (config via CSS @theme, NOT tailwind.config.js)
- **UI:** Headless UI + clsx for conditional classes
- **State:** TanStack Query (to be added for server state)
- **Auth:** Supabase Auth (to be configured)
- **Database:** Supabase (PostgreSQL) — central staging DB
- **AI Brain:** OpenAI GPT-4o API
- **Voice AI:** Vapi.ai + Twilio
- **Automation:** Make.com
- **Job Mgmt:** Simpro / Fergus (TBC)

## Project Structure
```
f:\Prime\
├── tailwind-plus-salient/salient-ts/   ← Source template (do not modify directly)
├── prime-electrical/                    ← Site 1 (to be scaffolded)
├── akf-construction/                    ← Site 2 (to be scaffolded)
├── cleanjet/                            ← Site 3 (to be scaffolded)
├── memory-bank/                         ← AI Memory Bank
└── .cursor/                             ← AI config
```

## Conventions
- **File naming:** PascalCase for components (Button.tsx, Hero.tsx)
- **Import style:** Absolute `@/` paths (`@/components/Button`, `@/images/logo`)
- **Path alias:** `@/*` → `./src/*` in each site
- **Component pattern:** Named exports (`export function Button(...)`)
- **Styling:** Tailwind classes + clsx for conditional logic
- **Tailwind v4 note:** Theme customization via `@theme {}` in CSS, NOT tailwind.config.js

## Critical Pre-Commit Checks
Before committing any code, ensure:
- `npm run lint` passes (ESLint + eslint-config-next)
- `npm run build` passes (no TypeScript errors)
- No console.log statements left in production code
- All image assets use `next/image` with proper `alt` attributes

## Anti-Hallucination Rules
- NEVER assume a Supabase table exists without reading the schema
- NEVER assume an env variable exists without reading .env.local
- NEVER assume a Make.com webhook URL without it being explicitly provided
- ALWAYS read the actual component file before editing it
- ALWAYS verify imports exist before using them

## Sites Context
When working on any site, understand the cross-sell dependency:
- **Prime Electrical** lead → check if AKF (wall/ceiling work) or CleanJet (post-install dust) opportunity
- **AKF Construction** lead → check if CleanJet (post-build clean) opportunity
- **CleanJet** lead → check if Prime (electrical inspection) opportunity

## Memory Bank
All task tracking, context, and progress is in `memory-bank/`:
- `tasks.md` — source of truth for task status
- `activeContext.md` — current focus
- `projectbrief.md` — project overview
- `techContext.md` — tech stack details
- `systemPatterns.md` — architecture patterns

## Rules References
- `.cursor/rules/anti-hallucination.mdc` — mandatory verification protocol
- `.cursor/rules/react-patterns.mdc` — React/Next.js component patterns
- `.cursor/rules/ui-styling.mdc` — Tailwind styling conventions
- `.cursor/rules/api-data-fetching.mdc` — data fetching patterns
- `.cursor/rules/auth-patterns.mdc` — Supabase Auth patterns
